{
	"Ads": {
		"Repository": {
			//"Mode": "RedisJson",
			"Mode": "InMemory",
			"ForceRebuild": false,
			"RedisConnection": "redis:6379",
			"IdempotencyTtlSeconds": 600,
			"UseOutboxWriter": false,
			"OutboxLockTtlSeconds": 30,
			"PublicBaseUrl": "http://localhost:5080"
		}
	},
	"KeyVault": {
		"Enabled": true,
		"VaultUri": "https://advapikeyvault.vault.azure.net/",
		"CacheTtl": "00:10:00"
	},
	"Serilog": {
		"Using": [
			"Serilog.Sinks.Console",
			"Serilog.Sinks.ApplicationInsights",
			"Serilog.Sinks.MSSqlServer"
		],
		"MinimumLevel": {
			"Default": "Information",
			"Override": {
				"Microsoft.AspNetCore": "Warning",
				"AdsApi": "Debug"
			}
		},
		"Enrich": [ "FromLogContext", "WithMachineName", "WithProcessId", "WithThreadId" ],
		"WriteTo": [
			{
				"Name": "Console",
				"Args": {
					"formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog"
				}
			},
			{
				"Name": "ApplicationInsights",
				"Args": {
					// Use a valid AI connection string. The AI SDK supports InstrumentationKey inside the connection string,
					// but ensure this value is only used for the AI sink.
					"connectionString": "InstrumentationKey=05b48aa3-55e8-46fd-9f7a-a3cb661d81ac;IngestionEndpoint=https://israelcentral-0.in.applicationinsights.azure.com/;LiveEndpoint=https://israelcentral.livediagnostics.monitor.azure.com/;ApplicationId=802ffe76-c3b1-4e67-a712-712e16e41d00",
					"restrictedToMinimumLevel": "Verbose",
					"telemetryConverter": "Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter, Serilog.Sinks.ApplicationInsights"
				}
			},
			{
				"Name": "MSSqlServer",
				"Args": {
					// Point to a real SQL Server connection string
					"connectionString": "Data Source=DESKTOP-ELNI55A\\SQLEXPRESS;Initial Catalog=adiTest;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False",
					"sinkOptions": {
						"tableName": "LogEvents",
						"autoCreateSqlTable": true
					},
					"restrictedToMinimumLevel": "Warning",
					"columnOptionsSection": {
						"additionalColumns": [
							{
								"ColumnName": "SourceContext",
								"DataType": "NVarchar",
								"AllowNull": true
							}
						]
					}
				}
			},
			{
				"Name": "File",
				"Args": {
					"path": "Logging\\Logs\\log-.log",
					"outputTemplate": "{Timestamp:HH:mm:ss} {Message}{NewLine:1}{Exception:1}",
					"rollingInterval": "Day"
				}
			},
			{
				"Name": "File",
				"Args": {
					"path": "Logging\\Logs\\log-.json",
					"formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog",
					"rollingInterval": "Day"
				}
			}
		]
	},
	"Logging": {
		"Sampling": {
			"InfoSuccessRate": 0.10
		}
	},
	"Azure": {
		"ApplicationInsights": {
			"ConnectionString": "InstrumentationKey=05b48aa3-55e8-46fd-9f7a-a3cb661d81ac;IngestionEndpoint=https://israelcentral-0.in.applicationinsights.azure.com/;LiveEndpoint=https://israelcentral.livediagnostics.monitor.azure.com/;ApplicationId=802ffe76-c3b1-4e67-a712-712e16e41d00"
		}

	},
	"ConnectionStrings": {
		"ShoppingConn": "Data Source=DESKTOP-ELNI55A\\SQLEXPRESS;Initial Catalog=adiTest;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False"
	}

}
